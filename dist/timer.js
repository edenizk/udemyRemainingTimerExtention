(()=>{function e(){const e=document.querySelectorAll("[data-purpose=curriculum-section-container] > [data-purpose]");if(!e.length)return{error:!0,text:"No section found.\nBe sure that you are at the udemy course tab and you started the course"};e.forEach((e=>{const t=e.querySelector("div");e.querySelector("span").getAttribute("data-checked")||t.click()}));let t=0;const r=document.querySelectorAll('[data-purpose^="curriculum-item-"][class*="item-link--common--"]');if(!r.length)return{error:!0,text:"No items found, be sure that sections are opened"};try{r.forEach((e=>{if(!e.querySelector('input[data-purpose="progress-toggle-button"]').checked){let r=e.querySelector('[class^="curriculum-item-link--bottom-row"] span');r&&(time=r.innerHTML.replace("min",""),t+=parseInt(time))}}));return{error:!1,hours:Math.floor(t/60),minutes:t%60}}catch(e){return{error:!0,text:'Something went wrong please create an issue at <a href="https://github.com/edenizk/udemyRemainingTimerExtention/issues/new" target="_blank">https://github.com/edenizk/udemyRemainingTimerExtention/issues/new</a>. Error msg'+JSON.stringify(e)}}}chrome.tabs.query({active:!0,currentWindow:!0},(t=>{const r=t[0],n=document.querySelector("#timer");n.innerHTML="Calculating...",chrome.scripting.executeScript({target:{tabId:r.id},func:e},(e=>((e,t)=>{if(!e)return t.classList.add("error"),void(t.innerHTML="Couldn't calculate try to open extension again");const r=e[0].result;if(r.error)return t.classList.add("error"),void(t.innerHTML=r.text);t.classList.remove("error"),t.innerHTML=`${r.hours}:${r.minutes} Left`})(e,n)))}))})();